{"ast":null,"code":"class SaturnIntegration{init(user){if(!user){var _window,_window$$saturn,_window$$saturn$reset;window.removeEventListener(\"saturn:ready\",()=>{});// @ts-ignore\n(_window=window)===null||_window===void 0?void 0:(_window$$saturn=_window.$saturn)===null||_window$$saturn===void 0?void 0:(_window$$saturn$reset=_window$$saturn.reset)===null||_window$$saturn$reset===void 0?void 0:_window$$saturn$reset.call(_window$$saturn);return;}const userData=user;setTimeout(()=>{var _window2,_window3,_window3$$saturn;console.log(\"calling setuser\",userData);// @ts-ignore\nif((_window2=window)!==null&&_window2!==void 0&&_window2.$saturn&&(_window3=window)!==null&&_window3!==void 0&&(_window3$$saturn=_window3.$saturn)!==null&&_window3$$saturn!==void 0&&_window3$$saturn.isLoaded){// @ts-ignore\nwindow.$saturn.isUserLoaded=false;// @ts-ignore\nwindow.$saturn.setUser(userData===null||userData===void 0?void 0:userData.uid,{email:userData===null||userData===void 0?void 0:userData.email,name:userData===null||userData===void 0?void 0:userData.name});}else{window.addEventListener(\"saturn:ready\",function(){if(userData){// @ts-ignore\nwindow.$saturn.setUser(userData.uid,{email:userData.email,name:userData.name});}},{once:true});}},1000);}reset(){var _window4,_window5,_window5$$saturn;// @ts-ignore\nif((_window4=window)!==null&&_window4!==void 0&&_window4.$saturn&&(_window5=window)!==null&&_window5!==void 0&&(_window5$$saturn=_window5.$saturn)!==null&&_window5$$saturn!==void 0&&_window5$$saturn.isLoaded){var _window6,_window6$$saturn,_window6$$saturn$rese;// @ts-ignore\n(_window6=window)===null||_window6===void 0?void 0:(_window6$$saturn=_window6.$saturn)===null||_window6$$saturn===void 0?void 0:(_window6$$saturn$rese=_window6$$saturn.reset)===null||_window6$$saturn$rese===void 0?void 0:_window6$$saturn$rese.call(_window6$$saturn);}}}export const saturnIntegration=new SaturnIntegration();","map":{"version":3,"names":["SaturnIntegration","init","user","_window","_window$$saturn","_window$$saturn$reset","window","removeEventListener","$saturn","reset","call","userData","setTimeout","_window2","_window3","_window3$$saturn","console","log","isLoaded","isUserLoaded","setUser","uid","email","name","addEventListener","once","_window4","_window5","_window5$$saturn","_window6","_window6$$saturn","_window6$$saturn$rese","saturnIntegration"],"sources":["/Users/rohanmathur/Desktop/work/saturn-demo-app/src/integration.ts"],"sourcesContent":["class SaturnIntegration {\n  init(user: any) {\n    if (!user) {\n      window.removeEventListener(\"saturn:ready\", () => {});\n      // @ts-ignore\n      window?.$saturn?.reset?.();\n      return;\n    }\n\n    const userData = user;\n\n    setTimeout(() => {\n      console.log(\"calling setuser\", userData);\n      // @ts-ignore\n      if (window?.$saturn && window?.$saturn?.isLoaded) {\n        // @ts-ignore\n        window.$saturn.isUserLoaded = false;\n        // @ts-ignore\n        window.$saturn.setUser(userData?.uid, {\n          email: userData?.email,\n          name: userData?.name,\n        });\n      } else {\n        window.addEventListener(\n          \"saturn:ready\",\n          function () {\n            if (userData) {\n              // @ts-ignore\n              window.$saturn.setUser(userData.uid, {\n                email: userData.email,\n                name: userData.name,\n              });\n            }\n          },\n          { once: true }\n        );\n      }\n    }, 1000);\n  }\n\n  reset() {\n    // @ts-ignore\n    if (window?.$saturn && window?.$saturn?.isLoaded) {\n      // @ts-ignore\n      window?.$saturn?.reset?.();\n    }\n  }\n}\n\nexport const saturnIntegration = new SaturnIntegration();\n"],"mappings":"AAAA,KAAM,CAAAA,iBAAkB,CACtBC,IAAIA,CAACC,IAAS,CAAE,CACd,GAAI,CAACA,IAAI,CAAE,KAAAC,OAAA,CAAAC,eAAA,CAAAC,qBAAA,CACTC,MAAM,CAACC,mBAAmB,CAAC,cAAc,CAAE,IAAM,CAAC,CAAC,CAAC,CACpD;AACA,CAAAJ,OAAA,CAAAG,MAAM,UAAAH,OAAA,kBAAAC,eAAA,CAAND,OAAA,CAAQK,OAAO,UAAAJ,eAAA,kBAAAC,qBAAA,CAAfD,eAAA,CAAiBK,KAAK,UAAAJ,qBAAA,iBAAtBA,qBAAA,CAAAK,IAAA,CAAAN,eAAyB,CAAC,CAC1B,OACF,CAEA,KAAM,CAAAO,QAAQ,CAAGT,IAAI,CAErBU,UAAU,CAAC,IAAM,KAAAC,QAAA,CAAAC,QAAA,CAAAC,gBAAA,CACfC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEN,QAAQ,CAAC,CACxC;AACA,GAAI,CAAAE,QAAA,CAAAP,MAAM,UAAAO,QAAA,WAANA,QAAA,CAAQL,OAAO,GAAAM,QAAA,CAAIR,MAAM,UAAAQ,QAAA,YAAAC,gBAAA,CAAND,QAAA,CAAQN,OAAO,UAAAO,gBAAA,WAAfA,gBAAA,CAAiBG,QAAQ,CAAE,CAChD;AACAZ,MAAM,CAACE,OAAO,CAACW,YAAY,CAAG,KAAK,CACnC;AACAb,MAAM,CAACE,OAAO,CAACY,OAAO,CAACT,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEU,GAAG,CAAE,CACpCC,KAAK,CAAEX,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEW,KAAK,CACtBC,IAAI,CAAEZ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEY,IAClB,CAAC,CAAC,CACJ,CAAC,IAAM,CACLjB,MAAM,CAACkB,gBAAgB,CACrB,cAAc,CACd,UAAY,CACV,GAAIb,QAAQ,CAAE,CACZ;AACAL,MAAM,CAACE,OAAO,CAACY,OAAO,CAACT,QAAQ,CAACU,GAAG,CAAE,CACnCC,KAAK,CAAEX,QAAQ,CAACW,KAAK,CACrBC,IAAI,CAAEZ,QAAQ,CAACY,IACjB,CAAC,CAAC,CACJ,CACF,CAAC,CACD,CAAEE,IAAI,CAAE,IAAK,CACf,CAAC,CACH,CACF,CAAC,CAAE,IAAI,CAAC,CACV,CAEAhB,KAAKA,CAAA,CAAG,KAAAiB,QAAA,CAAAC,QAAA,CAAAC,gBAAA,CACN;AACA,GAAI,CAAAF,QAAA,CAAApB,MAAM,UAAAoB,QAAA,WAANA,QAAA,CAAQlB,OAAO,GAAAmB,QAAA,CAAIrB,MAAM,UAAAqB,QAAA,YAAAC,gBAAA,CAAND,QAAA,CAAQnB,OAAO,UAAAoB,gBAAA,WAAfA,gBAAA,CAAiBV,QAAQ,CAAE,KAAAW,QAAA,CAAAC,gBAAA,CAAAC,qBAAA,CAChD;AACA,CAAAF,QAAA,CAAAvB,MAAM,UAAAuB,QAAA,kBAAAC,gBAAA,CAAND,QAAA,CAAQrB,OAAO,UAAAsB,gBAAA,kBAAAC,qBAAA,CAAfD,gBAAA,CAAiBrB,KAAK,UAAAsB,qBAAA,iBAAtBA,qBAAA,CAAArB,IAAA,CAAAoB,gBAAyB,CAAC,CAC5B,CACF,CACF,CAEA,MAAO,MAAM,CAAAE,iBAAiB,CAAG,GAAI,CAAAhC,iBAAiB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
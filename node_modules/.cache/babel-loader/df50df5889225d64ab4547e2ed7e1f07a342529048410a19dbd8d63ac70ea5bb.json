{"ast":null,"code":"class SaturnIntegration {\n  constructor() {\n    this.init = user => {\n      var _window, _window$$saturn, _window$$saturn$reset, _window3, _window4, _window4$$saturn;\n      // @ts-ignore\n      (_window = window) === null || _window === void 0 ? void 0 : (_window$$saturn = _window.$saturn) === null || _window$$saturn === void 0 ? void 0 : (_window$$saturn$reset = _window$$saturn.reset) === null || _window$$saturn$reset === void 0 ? void 0 : _window$$saturn$reset.call(_window$$saturn);\n      if (!user) {\n        var _window2, _window2$$saturn, _window2$$saturn$rese;\n        window.removeEventListener(\"saturn:ready\", () => {});\n        // @ts-ignore\n        (_window2 = window) === null || _window2 === void 0 ? void 0 : (_window2$$saturn = _window2.$saturn) === null || _window2$$saturn === void 0 ? void 0 : (_window2$$saturn$rese = _window2$$saturn.reset) === null || _window2$$saturn$rese === void 0 ? void 0 : _window2$$saturn$rese.call(_window2$$saturn);\n        return;\n      }\n      console.log(\"Saturn Integration Start\");\n      const userData = user;\n      // @ts-ignore\n      if ((_window3 = window) !== null && _window3 !== void 0 && _window3.$saturn && (_window4 = window) !== null && _window4 !== void 0 && (_window4$$saturn = _window4.$saturn) !== null && _window4$$saturn !== void 0 && _window4$$saturn.isLoaded) {\n        // @ts-ignore\n        window.$saturn.setUser(userData === null || userData === void 0 ? void 0 : userData.uid, {\n          email: userData === null || userData === void 0 ? void 0 : userData.email,\n          name: userData === null || userData === void 0 ? void 0 : userData.name\n        });\n      } else {\n        window.addEventListener(\"saturn:ready\", function () {\n          if (userData) {\n            // @ts-ignore\n            window.$saturn.setUser(userData.uid, {\n              email: userData.email,\n              name: userData.name\n            });\n          }\n        }, {\n          once: true\n        });\n      }\n    };\n  }\n}\nexport const saturnIntegration = new SaturnIntegration();","map":{"version":3,"names":["SaturnIntegration","constructor","init","user","_window","_window$$saturn","_window$$saturn$reset","_window3","_window4","_window4$$saturn","window","$saturn","reset","call","_window2","_window2$$saturn","_window2$$saturn$rese","removeEventListener","console","log","userData","isLoaded","setUser","uid","email","name","addEventListener","once","saturnIntegration"],"sources":["/Users/rohanmathur/Desktop/work/saturn-demo-app/src/integration.ts"],"sourcesContent":["class SaturnIntegration {\n  init = (user: any) => {\n    // @ts-ignore\n    window?.$saturn?.reset?.();\n\n    if (!user) {\n      window.removeEventListener(\"saturn:ready\", () => {});\n      // @ts-ignore\n      window?.$saturn?.reset?.();\n      return;\n    }\n\n    console.log(\"Saturn Integration Start\");\n\n    const userData = user;\n    // @ts-ignore\n    if (window?.$saturn && window?.$saturn?.isLoaded) {\n      // @ts-ignore\n      window.$saturn.setUser(userData?.uid, {\n        email: userData?.email,\n        name: userData?.name,\n      });\n    } else {\n      window.addEventListener(\n        \"saturn:ready\",\n        function () {\n          if (userData) {\n            // @ts-ignore\n            window.$saturn.setUser(userData.uid, {\n              email: userData.email,\n              name: userData.name,\n            });\n          }\n        },\n        { once: true }\n      );\n    }\n  };\n}\n\nexport const saturnIntegration = new SaturnIntegration();\n"],"mappings":"AAAA,MAAMA,iBAAiB,CAAC;EAAAC,YAAA;IAAA,KACtBC,IAAI,GAAIC,IAAS,IAAK;MAAA,IAAAC,OAAA,EAAAC,eAAA,EAAAC,qBAAA,EAAAC,QAAA,EAAAC,QAAA,EAAAC,gBAAA;MACpB;MACA,CAAAL,OAAA,GAAAM,MAAM,cAAAN,OAAA,wBAAAC,eAAA,GAAND,OAAA,CAAQO,OAAO,cAAAN,eAAA,wBAAAC,qBAAA,GAAfD,eAAA,CAAiBO,KAAK,cAAAN,qBAAA,uBAAtBA,qBAAA,CAAAO,IAAA,CAAAR,eAAyB,CAAC;MAE1B,IAAI,CAACF,IAAI,EAAE;QAAA,IAAAW,QAAA,EAAAC,gBAAA,EAAAC,qBAAA;QACTN,MAAM,CAACO,mBAAmB,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,CAAC;QACpD;QACA,CAAAH,QAAA,GAAAJ,MAAM,cAAAI,QAAA,wBAAAC,gBAAA,GAAND,QAAA,CAAQH,OAAO,cAAAI,gBAAA,wBAAAC,qBAAA,GAAfD,gBAAA,CAAiBH,KAAK,cAAAI,qBAAA,uBAAtBA,qBAAA,CAAAH,IAAA,CAAAE,gBAAyB,CAAC;QAC1B;MACF;MAEAG,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MAEvC,MAAMC,QAAQ,GAAGjB,IAAI;MACrB;MACA,IAAI,CAAAI,QAAA,GAAAG,MAAM,cAAAH,QAAA,eAANA,QAAA,CAAQI,OAAO,KAAAH,QAAA,GAAIE,MAAM,cAAAF,QAAA,gBAAAC,gBAAA,GAAND,QAAA,CAAQG,OAAO,cAAAF,gBAAA,eAAfA,gBAAA,CAAiBY,QAAQ,EAAE;QAChD;QACAX,MAAM,CAACC,OAAO,CAACW,OAAO,CAACF,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEG,GAAG,EAAE;UACpCC,KAAK,EAAEJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEI,KAAK;UACtBC,IAAI,EAAEL,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK;QAClB,CAAC,CAAC;MACJ,CAAC,MAAM;QACLf,MAAM,CAACgB,gBAAgB,CACrB,cAAc,EACd,YAAY;UACV,IAAIN,QAAQ,EAAE;YACZ;YACAV,MAAM,CAACC,OAAO,CAACW,OAAO,CAACF,QAAQ,CAACG,GAAG,EAAE;cACnCC,KAAK,EAAEJ,QAAQ,CAACI,KAAK;cACrBC,IAAI,EAAEL,QAAQ,CAACK;YACjB,CAAC,CAAC;UACJ;QACF,CAAC,EACD;UAAEE,IAAI,EAAE;QAAK,CACf,CAAC;MACH;IACF,CAAC;EAAA;AACH;AAEA,OAAO,MAAMC,iBAAiB,GAAG,IAAI5B,iBAAiB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
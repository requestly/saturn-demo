{"ast":null,"code":"// @ts-nocheck\nclass SaturnIntegration {\n  init(user) {\n    console.log(\"user data ::\", user);\n    if (!user) {\n      var _window, _window$$saturn, _window$$saturn$reset;\n      window.removeEventListener(\"saturn:ready\", () => {});\n      // @ts-ignore\n      (_window = window) === null || _window === void 0 ? void 0 : (_window$$saturn = _window.$saturn) === null || _window$$saturn === void 0 ? void 0 : (_window$$saturn$reset = _window$$saturn.reset) === null || _window$$saturn$reset === void 0 ? void 0 : _window$$saturn$reset.call(_window$$saturn);\n      return;\n    }\n    console.log(\"Saturn Integration Start\");\n    // @ts-ignore\n    console.log(\"window\", window.$saturn);\n    const userData = user;\n\n    // @ts-ignore\n    setTimeout(() => () => {\n      var _window2, _window3, _window3$$saturn;\n      if ((_window2 = window) !== null && _window2 !== void 0 && _window2.$saturn && (_window3 = window) !== null && _window3 !== void 0 && (_window3$$saturn = _window3.$saturn) !== null && _window3$$saturn !== void 0 && _window3$$saturn.isLoaded) {\n        console.log(\"calling setuser\", userData);\n        // @ts-ignore\n        window.$saturn.setUser(userData === null || userData === void 0 ? void 0 : userData.uid, {\n          email: userData === null || userData === void 0 ? void 0 : userData.email,\n          name: userData === null || userData === void 0 ? void 0 : userData.name\n        });\n      } else {\n        window.addEventListener(\"saturn:ready\", function () {\n          if (userData) {\n            // @ts-ignore\n            window.$saturn.setUser(userData.uid, {\n              email: userData.email,\n              name: userData.name\n            });\n          }\n        }, {\n          once: true\n        });\n      }\n    }, 1000);\n  }\n  reset() {\n    var _window4, _window5, _window5$$saturn;\n    // @ts-ignore\n    if ((_window4 = window) !== null && _window4 !== void 0 && _window4.$saturn && (_window5 = window) !== null && _window5 !== void 0 && (_window5$$saturn = _window5.$saturn) !== null && _window5$$saturn !== void 0 && _window5$$saturn.isLoaded) {\n      var _window6, _window6$$saturn, _window6$$saturn$rese;\n      // @ts-ignore\n      (_window6 = window) === null || _window6 === void 0 ? void 0 : (_window6$$saturn = _window6.$saturn) === null || _window6$$saturn === void 0 ? void 0 : (_window6$$saturn$rese = _window6$$saturn.reset) === null || _window6$$saturn$rese === void 0 ? void 0 : _window6$$saturn$rese.call(_window6$$saturn);\n    }\n  }\n}\nexport const saturnIntegration = new SaturnIntegration();","map":{"version":3,"names":["SaturnIntegration","init","user","console","log","_window","_window$$saturn","_window$$saturn$reset","window","removeEventListener","$saturn","reset","call","userData","setTimeout","_window2","_window3","_window3$$saturn","isLoaded","setUser","uid","email","name","addEventListener","once","_window4","_window5","_window5$$saturn","_window6","_window6$$saturn","_window6$$saturn$rese","saturnIntegration"],"sources":["/Users/rohanmathur/Desktop/work/saturn-demo-app/src/integration.ts"],"sourcesContent":["// @ts-nocheck\nclass SaturnIntegration {\n  init(user: any) {\n    console.log(\"user data ::\", user);\n\n    if (!user) {\n      window.removeEventListener(\"saturn:ready\", () => {});\n      // @ts-ignore\n      window?.$saturn?.reset?.();\n      return;\n    }\n\n    console.log(\"Saturn Integration Start\");\n    // @ts-ignore\n    console.log(\"window\", window.$saturn);\n    const userData = user;\n\n    // @ts-ignore\n    setTimeout(\n      () => () => {\n        if (window?.$saturn && window?.$saturn?.isLoaded) {\n          console.log(\"calling setuser\", userData);\n          // @ts-ignore\n          window.$saturn.setUser(userData?.uid, {\n            email: userData?.email,\n            name: userData?.name,\n          });\n        } else {\n          window.addEventListener(\n            \"saturn:ready\",\n            function () {\n              if (userData) {\n                // @ts-ignore\n                window.$saturn.setUser(userData.uid, {\n                  email: userData.email,\n                  name: userData.name,\n                });\n              }\n            },\n            { once: true }\n          );\n        }\n      },\n      1000\n    );\n  }\n\n  reset() {\n    // @ts-ignore\n    if (window?.$saturn && window?.$saturn?.isLoaded) {\n      // @ts-ignore\n      window?.$saturn?.reset?.();\n    }\n  }\n}\n\nexport const saturnIntegration = new SaturnIntegration();\n"],"mappings":"AAAA;AACA,MAAMA,iBAAiB,CAAC;EACtBC,IAAIA,CAACC,IAAS,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,IAAI,CAAC;IAEjC,IAAI,CAACA,IAAI,EAAE;MAAA,IAAAG,OAAA,EAAAC,eAAA,EAAAC,qBAAA;MACTC,MAAM,CAACC,mBAAmB,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC,CAAC;MACpD;MACA,CAAAJ,OAAA,GAAAG,MAAM,cAAAH,OAAA,wBAAAC,eAAA,GAAND,OAAA,CAAQK,OAAO,cAAAJ,eAAA,wBAAAC,qBAAA,GAAfD,eAAA,CAAiBK,KAAK,cAAAJ,qBAAA,uBAAtBA,qBAAA,CAAAK,IAAA,CAAAN,eAAyB,CAAC;MAC1B;IACF;IAEAH,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACvC;IACAD,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEI,MAAM,CAACE,OAAO,CAAC;IACrC,MAAMG,QAAQ,GAAGX,IAAI;;IAErB;IACAY,UAAU,CACR,MAAM,MAAM;MAAA,IAAAC,QAAA,EAAAC,QAAA,EAAAC,gBAAA;MACV,IAAI,CAAAF,QAAA,GAAAP,MAAM,cAAAO,QAAA,eAANA,QAAA,CAAQL,OAAO,KAAAM,QAAA,GAAIR,MAAM,cAAAQ,QAAA,gBAAAC,gBAAA,GAAND,QAAA,CAAQN,OAAO,cAAAO,gBAAA,eAAfA,gBAAA,CAAiBC,QAAQ,EAAE;QAChDf,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAES,QAAQ,CAAC;QACxC;QACAL,MAAM,CAACE,OAAO,CAACS,OAAO,CAACN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,GAAG,EAAE;UACpCC,KAAK,EAAER,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,KAAK;UACtBC,IAAI,EAAET,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAES;QAClB,CAAC,CAAC;MACJ,CAAC,MAAM;QACLd,MAAM,CAACe,gBAAgB,CACrB,cAAc,EACd,YAAY;UACV,IAAIV,QAAQ,EAAE;YACZ;YACAL,MAAM,CAACE,OAAO,CAACS,OAAO,CAACN,QAAQ,CAACO,GAAG,EAAE;cACnCC,KAAK,EAAER,QAAQ,CAACQ,KAAK;cACrBC,IAAI,EAAET,QAAQ,CAACS;YACjB,CAAC,CAAC;UACJ;QACF,CAAC,EACD;UAAEE,IAAI,EAAE;QAAK,CACf,CAAC;MACH;IACF,CAAC,EACD,IACF,CAAC;EACH;EAEAb,KAAKA,CAAA,EAAG;IAAA,IAAAc,QAAA,EAAAC,QAAA,EAAAC,gBAAA;IACN;IACA,IAAI,CAAAF,QAAA,GAAAjB,MAAM,cAAAiB,QAAA,eAANA,QAAA,CAAQf,OAAO,KAAAgB,QAAA,GAAIlB,MAAM,cAAAkB,QAAA,gBAAAC,gBAAA,GAAND,QAAA,CAAQhB,OAAO,cAAAiB,gBAAA,eAAfA,gBAAA,CAAiBT,QAAQ,EAAE;MAAA,IAAAU,QAAA,EAAAC,gBAAA,EAAAC,qBAAA;MAChD;MACA,CAAAF,QAAA,GAAApB,MAAM,cAAAoB,QAAA,wBAAAC,gBAAA,GAAND,QAAA,CAAQlB,OAAO,cAAAmB,gBAAA,wBAAAC,qBAAA,GAAfD,gBAAA,CAAiBlB,KAAK,cAAAmB,qBAAA,uBAAtBA,qBAAA,CAAAlB,IAAA,CAAAiB,gBAAyB,CAAC;IAC5B;EACF;AACF;AAEA,OAAO,MAAME,iBAAiB,GAAG,IAAI/B,iBAAiB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
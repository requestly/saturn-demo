{"ast":null,"code":"class SaturnIntegration{constructor(){this.init=user=>{var _window,_window$$saturn,_window$$saturn$reset,_window3,_window4,_window4$$saturn;// @ts-ignore\n(_window=window)===null||_window===void 0?void 0:(_window$$saturn=_window.$saturn)===null||_window$$saturn===void 0?void 0:(_window$$saturn$reset=_window$$saturn.reset)===null||_window$$saturn$reset===void 0?void 0:_window$$saturn$reset.call(_window$$saturn);if(!user){var _window2,_window2$$saturn,_window2$$saturn$rese;window.removeEventListener(\"saturn:ready\",()=>{});// @ts-ignore\n(_window2=window)===null||_window2===void 0?void 0:(_window2$$saturn=_window2.$saturn)===null||_window2$$saturn===void 0?void 0:(_window2$$saturn$rese=_window2$$saturn.reset)===null||_window2$$saturn$rese===void 0?void 0:_window2$$saturn$rese.call(_window2$$saturn);return;}console.log(\"Saturn Integration Start\");const userData=user;// @ts-ignore\nif((_window3=window)!==null&&_window3!==void 0&&_window3.$saturn&&(_window4=window)!==null&&_window4!==void 0&&(_window4$$saturn=_window4.$saturn)!==null&&_window4$$saturn!==void 0&&_window4$$saturn.isLoaded){// @ts-ignore\nwindow.$saturn.setUser(userData===null||userData===void 0?void 0:userData.uid,{email:userData===null||userData===void 0?void 0:userData.email,name:userData===null||userData===void 0?void 0:userData.name});}else{window.addEventListener(\"saturn:ready\",function(){if(userData){// @ts-ignore\nwindow.$saturn.setUser(userData.uid,{email:userData.email,name:userData.name});}},{once:true});}};}}export const saturnIntegration=new SaturnIntegration();","map":{"version":3,"names":["SaturnIntegration","constructor","init","user","_window","_window$$saturn","_window$$saturn$reset","_window3","_window4","_window4$$saturn","window","$saturn","reset","call","_window2","_window2$$saturn","_window2$$saturn$rese","removeEventListener","console","log","userData","isLoaded","setUser","uid","email","name","addEventListener","once","saturnIntegration"],"sources":["/Users/rohanmathur/Desktop/work/saturn-demo-app/src/integration.ts"],"sourcesContent":["class SaturnIntegration {\n  init = (user: any) => {\n    // @ts-ignore\n    window?.$saturn?.reset?.();\n\n    if (!user) {\n      window.removeEventListener(\"saturn:ready\", () => {});\n      // @ts-ignore\n      window?.$saturn?.reset?.();\n      return;\n    }\n\n    console.log(\"Saturn Integration Start\");\n\n    const userData = user;\n    // @ts-ignore\n    if (window?.$saturn && window?.$saturn?.isLoaded) {\n      // @ts-ignore\n      window.$saturn.setUser(userData?.uid, {\n        email: userData?.email,\n        name: userData?.name,\n      });\n    } else {\n      window.addEventListener(\n        \"saturn:ready\",\n        function () {\n          if (userData) {\n            // @ts-ignore\n            window.$saturn.setUser(userData.uid, {\n              email: userData.email,\n              name: userData.name,\n            });\n          }\n        },\n        { once: true }\n      );\n    }\n  };\n}\n\nexport const saturnIntegration = new SaturnIntegration();\n"],"mappings":"AAAA,KAAM,CAAAA,iBAAkB,CAAAC,YAAA,OACtBC,IAAI,CAAIC,IAAS,EAAK,KAAAC,OAAA,CAAAC,eAAA,CAAAC,qBAAA,CAAAC,QAAA,CAAAC,QAAA,CAAAC,gBAAA,CACpB;AACA,CAAAL,OAAA,CAAAM,MAAM,UAAAN,OAAA,kBAAAC,eAAA,CAAND,OAAA,CAAQO,OAAO,UAAAN,eAAA,kBAAAC,qBAAA,CAAfD,eAAA,CAAiBO,KAAK,UAAAN,qBAAA,iBAAtBA,qBAAA,CAAAO,IAAA,CAAAR,eAAyB,CAAC,CAE1B,GAAI,CAACF,IAAI,CAAE,KAAAW,QAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACTN,MAAM,CAACO,mBAAmB,CAAC,cAAc,CAAE,IAAM,CAAC,CAAC,CAAC,CACpD;AACA,CAAAH,QAAA,CAAAJ,MAAM,UAAAI,QAAA,kBAAAC,gBAAA,CAAND,QAAA,CAAQH,OAAO,UAAAI,gBAAA,kBAAAC,qBAAA,CAAfD,gBAAA,CAAiBH,KAAK,UAAAI,qBAAA,iBAAtBA,qBAAA,CAAAH,IAAA,CAAAE,gBAAyB,CAAC,CAC1B,OACF,CAEAG,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CAEvC,KAAM,CAAAC,QAAQ,CAAGjB,IAAI,CACrB;AACA,GAAI,CAAAI,QAAA,CAAAG,MAAM,UAAAH,QAAA,WAANA,QAAA,CAAQI,OAAO,GAAAH,QAAA,CAAIE,MAAM,UAAAF,QAAA,YAAAC,gBAAA,CAAND,QAAA,CAAQG,OAAO,UAAAF,gBAAA,WAAfA,gBAAA,CAAiBY,QAAQ,CAAE,CAChD;AACAX,MAAM,CAACC,OAAO,CAACW,OAAO,CAACF,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEG,GAAG,CAAE,CACpCC,KAAK,CAAEJ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEI,KAAK,CACtBC,IAAI,CAAEL,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEK,IAClB,CAAC,CAAC,CACJ,CAAC,IAAM,CACLf,MAAM,CAACgB,gBAAgB,CACrB,cAAc,CACd,UAAY,CACV,GAAIN,QAAQ,CAAE,CACZ;AACAV,MAAM,CAACC,OAAO,CAACW,OAAO,CAACF,QAAQ,CAACG,GAAG,CAAE,CACnCC,KAAK,CAAEJ,QAAQ,CAACI,KAAK,CACrBC,IAAI,CAAEL,QAAQ,CAACK,IACjB,CAAC,CAAC,CACJ,CACF,CAAC,CACD,CAAEE,IAAI,CAAE,IAAK,CACf,CAAC,CACH,CACF,CAAC,EACH,CAEA,MAAO,MAAM,CAAAC,iBAAiB,CAAG,GAAI,CAAA5B,iBAAiB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
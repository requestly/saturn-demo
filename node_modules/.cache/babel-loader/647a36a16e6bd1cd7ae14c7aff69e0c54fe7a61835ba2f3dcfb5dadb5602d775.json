{"ast":null,"code":"// @ts-nocheck\nclass SaturnIntegration {\n  init(user) {\n    if (!user) {\n      var _window, _window2, _window2$$saturn;\n      window.removeEventListener(\"saturn:ready\", () => {});\n      if ((_window = window) !== null && _window !== void 0 && _window.$saturn && (_window2 = window) !== null && _window2 !== void 0 && (_window2$$saturn = _window2.$saturn) !== null && _window2$$saturn !== void 0 && _window2$$saturn.isLoaded) {\n        var _window3, _window3$$saturn, _window3$$saturn$rese;\n        // @ts-ignore\n        (_window3 = window) === null || _window3 === void 0 ? void 0 : (_window3$$saturn = _window3.$saturn) === null || _window3$$saturn === void 0 ? void 0 : (_window3$$saturn$rese = _window3$$saturn.reset) === null || _window3$$saturn$rese === void 0 ? void 0 : _window3$$saturn$rese.call(_window3$$saturn);\n      }\n      return;\n    }\n    console.log(\"Saturn Integration Start\");\n    // @ts-ignore\n    console.log(\"window\", window.$saturn);\n    const userData = user;\n    setTimeout(() => {\n      var _window4, _window5, _window5$$saturn;\n      console.log(\"calling setuser\", userData);\n      if ((_window4 = window) !== null && _window4 !== void 0 && _window4.$saturn && (_window5 = window) !== null && _window5 !== void 0 && (_window5$$saturn = _window5.$saturn) !== null && _window5$$saturn !== void 0 && _window5$$saturn.isLoaded) {\n        console.log(\"calling setuser\", userData);\n        window.$saturn.isUserLoaded = false;\n        // @ts-ignore\n        window.$saturn.setUser(userData === null || userData === void 0 ? void 0 : userData.uid, {\n          email: userData === null || userData === void 0 ? void 0 : userData.email,\n          name: userData === null || userData === void 0 ? void 0 : userData.name\n        });\n      } else {\n        window.addEventListener(\"saturn:ready\", function () {\n          if (userData) {\n            // @ts-ignore\n            window.$saturn.setUser(userData.uid, {\n              email: userData.email,\n              name: userData.name\n            });\n          }\n        }, {\n          once: true\n        });\n      }\n    }, 100);\n  }\n  reset() {\n    var _window6, _window7, _window7$$saturn;\n    // @ts-ignore\n    if ((_window6 = window) !== null && _window6 !== void 0 && _window6.$saturn && (_window7 = window) !== null && _window7 !== void 0 && (_window7$$saturn = _window7.$saturn) !== null && _window7$$saturn !== void 0 && _window7$$saturn.isLoaded) {\n      var _window8, _window8$$saturn, _window8$$saturn$rese;\n      // @ts-ignore\n      (_window8 = window) === null || _window8 === void 0 ? void 0 : (_window8$$saturn = _window8.$saturn) === null || _window8$$saturn === void 0 ? void 0 : (_window8$$saturn$rese = _window8$$saturn.reset) === null || _window8$$saturn$rese === void 0 ? void 0 : _window8$$saturn$rese.call(_window8$$saturn);\n    }\n  }\n}\nexport const saturnIntegration = new SaturnIntegration();","map":{"version":3,"names":["SaturnIntegration","init","user","_window","_window2","_window2$$saturn","window","removeEventListener","$saturn","isLoaded","_window3","_window3$$saturn","_window3$$saturn$rese","reset","call","console","log","userData","setTimeout","_window4","_window5","_window5$$saturn","isUserLoaded","setUser","uid","email","name","addEventListener","once","_window6","_window7","_window7$$saturn","_window8","_window8$$saturn","_window8$$saturn$rese","saturnIntegration"],"sources":["/Users/rohanmathur/Desktop/work/saturn-demo-app/src/integration.ts"],"sourcesContent":["// @ts-nocheck\nclass SaturnIntegration {\n  init(user: any) {\n    if (!user) {\n      window.removeEventListener(\"saturn:ready\", () => {});\n\n      if (window?.$saturn && window?.$saturn?.isLoaded) {\n        // @ts-ignore\n        window?.$saturn?.reset?.();\n      }\n      return;\n    }\n\n    console.log(\"Saturn Integration Start\");\n    // @ts-ignore\n    console.log(\"window\", window.$saturn);\n    const userData = user;\n\n    setTimeout(() => {\n      console.log(\"calling setuser\", userData);\n      if (window?.$saturn && window?.$saturn?.isLoaded) {\n        console.log(\"calling setuser\", userData);\n        window.$saturn.isUserLoaded = false;\n        // @ts-ignore\n        window.$saturn.setUser(userData?.uid, {\n          email: userData?.email,\n          name: userData?.name,\n        });\n      } else {\n        window.addEventListener(\n          \"saturn:ready\",\n          function () {\n            if (userData) {\n              // @ts-ignore\n              window.$saturn.setUser(userData.uid, {\n                email: userData.email,\n                name: userData.name,\n              });\n            }\n          },\n          { once: true }\n        );\n      }\n    }, 100);\n  }\n\n  reset() {\n    // @ts-ignore\n    if (window?.$saturn && window?.$saturn?.isLoaded) {\n      // @ts-ignore\n      window?.$saturn?.reset?.();\n    }\n  }\n}\n\nexport const saturnIntegration = new SaturnIntegration();\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
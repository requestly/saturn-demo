{"ast":null,"code":"var _jsxFileName = \"/Users/rohanmathur/Desktop/stackblitz-starters-ymbulv/src/App.tsx\",\n  _s = $RefreshSig$();\n// @ts-nocheck\n\nimport { useEffect, useState } from \"react\";\nimport \"./style.css\";\n\n// https://salahtml.uxper.co/home-chat-service.html\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const App = ({\n  name\n}) => {\n  _s();\n  const [isAnonymousUser, setIsAnonymousUser] = useState(false);\n  useEffect(() => {\n    const isAnonymousUser = JSON.parse(localStorage.getItem(\"saturn_demo_is_anonymous_user\"));\n    console.log({\n      isAnonymousUser\n    });\n    setIsAnonymousUser(isAnonymousUser);\n  }, []);\n  useEffect(() => {\n    var _window, _window2, _window2$$saturn;\n    const normalUser = {\n      uid: \"saturn-demo\",\n      email: \"rohan+staurndemo@requestly.io\",\n      name: \"Rohan\"\n    };\n    const anonymousUser = {\n      uid: \"anon-1234\"\n    };\n    const userData = isAnonymousUser ? anonymousUser : normalUser;\n    if ((_window = window) !== null && _window !== void 0 && _window.$saturn && (_window2 = window) !== null && _window2 !== void 0 && (_window2$$saturn = _window2.$saturn) !== null && _window2$$saturn !== void 0 && _window2$$saturn.isLoaded) {\n      window.$saturn.setUser(userData.uid, {\n        email: userData.email,\n        name: userData.name\n      });\n    } else {\n      window.addEventListener(\"saturn:ready\", function () {\n        if (userData) {\n          window.$saturn.setUser(userData.uid, {\n            email: userData.email,\n            name: userData.name\n          });\n        }\n      }, {\n        once: true\n      });\n    }\n  }, [isAnonymousUser]);\n  const handleOnChange = e => {\n    var _window$$saturn;\n    const value = e.target.value;\n    const newValue = value === \"anon-1234\";\n    localStorage.setItem(\"saturn_demo_is_anonymous_user\", JSON.stringify(newValue));\n    setIsAnonymousUser(newValue);\n    // window.location.reload();\n    (_window$$saturn = window.$saturn) === null || _window$$saturn === void 0 ? void 0 : _window$$saturn.reset();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {},\n      children: \"Welcome to Saturn demo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"Select a user type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            id: \"normal\",\n            name: \"user\",\n            value: \"saturn-demo\",\n            checked: !isAnonymousUser,\n            onChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"normal\",\n            children: \"Normal user\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            id: \"anonymous\",\n            name: \"user\",\n            value: \"anon-1234\",\n            checked: isAnonymousUser,\n            onChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"anonymous\",\n            children: \"Anonymous user\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"xwztD0q5q5t/p036IzpeUrHxY1k=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","App","name","_s","isAnonymousUser","setIsAnonymousUser","JSON","parse","localStorage","getItem","console","log","_window","_window2","_window2$$saturn","normalUser","uid","email","anonymousUser","userData","window","$saturn","isLoaded","setUser","addEventListener","once","handleOnChange","e","_window$$saturn","value","target","newValue","setItem","stringify","reset","style","display","alignItems","flexDirection","children","fileName","_jsxFileName","lineNumber","columnNumber","type","id","checked","onChange","htmlFor","_c","$RefreshReg$"],"sources":["/Users/rohanmathur/Desktop/stackblitz-starters-ymbulv/src/App.tsx"],"sourcesContent":["// @ts-nocheck\n\nimport { FC, useEffect, useState } from \"react\";\nimport \"./style.css\";\n\n// https://salahtml.uxper.co/home-chat-service.html\n\ntype UserType = \"anonymous\" | \"business\" | \"personal\";\n\nexport const App: FC<{ name: string }> = ({ name }) => {\n  const [isAnonymousUser, setIsAnonymousUser] = useState(false);\n\n  useEffect(() => {\n    const isAnonymousUser = JSON.parse(\n      localStorage.getItem(\"saturn_demo_is_anonymous_user\")\n    );\n\n    console.log({ isAnonymousUser });\n    setIsAnonymousUser(isAnonymousUser);\n  }, []);\n\n  useEffect(() => {\n    const normalUser = {\n      uid: \"saturn-demo\",\n      email: \"rohan+staurndemo@requestly.io\",\n      name: \"Rohan\",\n    };\n\n    const anonymousUser = {\n      uid: \"anon-1234\",\n    };\n\n    const userData = isAnonymousUser ? anonymousUser : normalUser;\n\n    if (window?.$saturn && window?.$saturn?.isLoaded) {\n      window.$saturn.setUser(userData.uid, {\n        email: userData.email,\n        name: userData.name,\n      });\n    } else {\n      window.addEventListener(\n        \"saturn:ready\",\n        function () {\n          if (userData) {\n            window.$saturn.setUser(userData.uid, {\n              email: userData.email,\n              name: userData.name,\n            });\n          }\n        },\n        { once: true }\n      );\n    }\n  }, [isAnonymousUser]);\n\n  const handleOnChange = (e) => {\n    const value = e.target.value;\n    const newValue = value === \"anon-1234\";\n    localStorage.setItem(\n      \"saturn_demo_is_anonymous_user\",\n      JSON.stringify(newValue)\n    );\n    setIsAnonymousUser(newValue);\n    // window.location.reload();\n    window.$saturn?.reset();\n  };\n\n  return (\n    <div\n      style={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\" }}\n    >\n      <h1 style={{}}>Welcome to Saturn demo</h1>\n      <div>\n        <fieldset>\n          <legend>Select a user type:</legend>\n\n          <div>\n            <input\n              type=\"radio\"\n              id=\"normal\"\n              name=\"user\"\n              value=\"saturn-demo\"\n              checked={!isAnonymousUser}\n              onChange={handleOnChange}\n            />\n            <label htmlFor=\"normal\">Normal user</label>\n          </div>\n\n          <div>\n            <input\n              type=\"radio\"\n              id=\"anonymous\"\n              name=\"user\"\n              value=\"anon-1234\"\n              checked={isAnonymousUser}\n              onChange={handleOnChange}\n            />\n            <label htmlFor=\"anonymous\">Anonymous user</label>\n          </div>\n        </fieldset>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}